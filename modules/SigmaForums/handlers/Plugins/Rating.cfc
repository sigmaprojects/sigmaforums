/*A general event handler. This is a dummy one, please remove and create real ones.*/component singleton=true {		property name="sessionStorage"	inject="coldbox:plugin:SessionStorage";	property name="userService"		inject="model:userService@solitary";	property name="ratingService"	inject="model:RatingService@SigmaForums";	// OPTIONAL HANDLER PROPERTIES	this.event_cache_suffix = "";	this.prehandler_only 	= "";	this.prehandler_except 	= "";	this.posthandler_only 	= "";	this.posthandler_except = "";	// Allowed HTTP Methods Ex: this.allowedMethods = {delete='POST,DELETE',index='GET'}	this.allowedMethods = {};		/**	IMPLICIT FUNCTIONS: Uncomment to use	void function preHandler(event,action) output=false{		var rc = event.getCollection();	}	void function postHandler(event,action) output=false{		var rc = event.getCollection();	}	void function onMissingAction(event,missingAction) output=false{	}	*/	void function rate(event) output=false{		var rc = event.getCollection();		event.showDebugPanel(false);				ratingService.Rate(			ReplyID 	= event.getValue( 'replyid', 0 ),			UserID		= sessionStorage.getVar('user').userID,			RateIndex	= event.getValue( 'rateindex', 0 )		);		rc.Data = ratingService.getRateIndexSum( event.getValue( 'replyid', 0 ) );		event.renderData(type="json",data=rc,contentType="text");	}	}